{{define "page.title"}}Public{{end}}

{{define "app-body"}}
<section class="_mgt-30 _mgbt-30 _mgbt-50-lg">
	<div class="container">
		<div class="row _mgbt-16">
			<div class="col-12">
				<div class="_dp-f">
					<div class="_dp-f">
						<h4 class="fs-18 fs-24-md _mgbt-0 _tal-ct _cl-gray-1 fpt">
							<span class="_cl-yellow-main">Tag</span> ฮิตติดเทรนด์
						</h4>
						<div class="_mgl-10 _dp-f _alit-ct _fw-nw">
							<i class="fs-20 fs-28-md fal fa-angle-right"></i>
							<i class="fs-20 fs-28-md fal fa-angle-right"></i>
						</div>
					</div>
					<!-- <div class="_mgl-at">
						<a href="" class="fs-18 _cl-gray-3 _cl-gray-5-hover _cs-pt">ดูทั้งหมด</a>
					</div> -->
				</div>
			</div>
		</div>
	</div>
	<div class="container _pdh-0-sm _pdh-10-lg">
		{{template "topic-small" .}}
	</div>
</section>

<div id="post-container" class="content _mgt-25">
	<div class="container _mgbt-50 _pdh-0-sm _pdh-10-lg" :class="{'_mh-1000': !hasPost && isAjax}">
		<div class="row">
			<div class="col">
				<div class="_dp-f" style="border-bottom: solid 1px rgb(11, 27, 48);">
					<div class="filter-post _cs-pt _pd-12" :class="{'active': type === ''}" @click="selectType('')"
					id="gtm-link" data-gtm-link="tab_pb_new">
						<i class="fs-13 _mgr-3 fas fa-bookmark"></i>
						<span class="fs-14 fs-16-md fpt">ใหม่</span>
					</div>
					<!-- <div class="filter-post _cs-pt _pd-12" :class="{'active': type === 'article'}" @click="selectType('article')"
					id="gtm-link" data-gtm-link="tab_pb_general">
						<i class="fs-13 _mgr-3 fal fa-edit"></i>
						<span class="fs-14 fs-16-md fpt">ทั่วไป</span>
					</div>
					<div class="filter-post _cs-pt _pd-12" :class="{'active': type === 'gallery'}" @click="selectType('gallery')"
					id="gtm-link" data-gtm-link="tab_pb_gallery">
						<i class="fs-13 _mgr-3 fal fa-images"></i>
						<span class="fs-14 fs-16-md fpt">แกลลอลี่</span>
					</div> -->
				</div>
			</div>
		</div>
		<div class="row content-post _mgt-15 _mgt-32-lg" ref="postList">
			{{template "post-item"}}
		</div>
		<div v-cloak class="_mh-80">
			<infinite-loading @infinite="infiniteHandler" ref="infiniteLoading" spinner="spiral" :distance="300">
				<div slot="no-results">
					<h5 class="_cl-white _tal-ct fs-14">ยังไม่มีคอนเทนต์เกี่ยวกับเรื่องที่คุณสนใจ ลองสร้างเป็นของคุณเองสิ!</h5>
				</div>
				<div slot="no-more">
					<h5 class="_cl-white _tal-ct fs-14">ไม่มีคอนเทนต์เพิ่มเติม</h5>
				</div>
			</infinite-loading>
		</div>
	</div>
</div>
{{end}}

{{define "main.style"}}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.3/assets/owl.carousel.min.css">
{{end}}

{{define "main.script"}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.3/owl.carousel.min.js"></script>
<script>
	document.addEventListener('DOMContentLoaded', () => {
		const topic = $('.owl-topic')

		topic.owlCarousel({
			loop: true,
			nav: false,
			dots: false,
			margin: 10,
			autoWidth: true,
			slideBy: 3
		})
		// Go to the next item
		$('.ctrl-carousel.ctrl-topic.next').click(function() {
			topic.trigger('next.owl.carousel', [300])
		})
		// Go to the previous item
		$('.ctrl-carousel.ctrl-topic.previous').click(function() {
			topic.trigger('prev.owl.carousel', [300])
		})

	}) // end
</script>
{{end}}